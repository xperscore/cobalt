(function(){"use strict";var $LAST_MODIFIED=window.$LAST_MODIFIED||new Date(1365439028000);
'use strict';var i=Object.keys||function(a){var b=[],d=Object.prototype.hasOwnProperty,c;for(c in a)d.call(a,c)&&b.push(c);return b};function k(a){return a&&(a.ownerDocument||a)||document}
function l(a,b,d){var c,f,e;if(3>arguments.length)c=b,b="";else switch(b){case "tag":e=arguments[2];c=function(a){return a.nodeName.toLowerCase()===e};break;case "attr":f=arguments[2],e=arguments[3],c=function(a){return null===e?!a.hasAttribute(f):!e?a.hasAttribute(f):a.getAttribute(f)===e}}for(;a;)if(3<a.nodeType&&(a=null),a){if(c(a))break;a=a.parentNode}return a}
function n(a,b){for(var d=k(b),c=a[0],c="string"===typeof c?d.createElement(c):c||document.body||document.documentElement,f=a[1],e=i(f),g=0,h;h=e[g];g++){var j=f[h];h=d.createAttribute(h);j&&(h.value=j);c.setAttributeNode(h)}g=2;for(f=a.length;g<f;g++)e=a[g],c.appendChild("string"===typeof e?d.createTextNode(e):n(e,d));return c}var o=/^(?:focusin|focusout)$/,p=/\S+/g;
function q(a,b,d,c){function f(){d.apply(c,arguments)}var e=[],g=b.match(p);void function j(b){var c=g[b];if(c){if(a.addEventListener){var m=!1;o.test(c)&&(m=!0,c="focusin"===c?"focus":"blur");a.addEventListener(c,f,m);e.push(function(){a.removeEventListener(c,f,m)})}else a.attachEvent("on"+c,d),e.push(function(){a.detachEvent("on"+c,d)});j(b+1)}}(0);return{stop:function(){for(var a=0,b;b=e[a];a++)b()}}}
function r(a,b){var d=q(a,"mousemove mousewheel DOMMouseScroll orientationchange",function(){b.apply(this,arguments);d.stop()},void 0)}var s=!!window.getSelection;function t(a){a=k(a);return s?(a=a.defaultView.getSelection(),!a.rangeCount?void 0:a.getRangeAt(0)):a.selection.createRange()}
function u(a){a=k(a);a.queryCommandState("insertunorderedlist")||a.execCommand("insertunorderedlist");a=t(a);if(!a)return[];a=s?a.startContainer:a.parentElement();(a=l(a,"tag","ul"))&&a.parentNode.removeChild(a);for(var a=a.getElementsByTagName("li"),b=[],d=0,c;c=a[d];d++)b.push(c.innerHTML);return b}
var v={menu:function(a,b){for(var d,c=b.createElement("menu"),f=0,e=a.length;f<e;f++)d=a[f],c.appendChild(b.createElement("button")).innerHTML=d;return c},user:function(a,b){var d=n(["div",{"ng-controller":"userCtrl"}],b);d.innerHTML="<div>"+a.join("</div><div>")+"</div>";return d}},w={angular:function(a){for(var b=a.ownerDocument.defaultView.open(),d=b.document,c=d.getElementsByTagName("head")[0],f=0,e;e=document.styleSheets[f];f++)c.insertAdjacentHTML("beforeend",e.href?'<link rel="stylesheet" href="'+
e.href+'">':(e.ownerNode||e.owningElement).outerHTML);d.body.insertAdjacentHTML("beforeend",a.innerHTML);a=d.createElement("script");a.src="https://ajax.googleapis.com/ajax/libs/angularjs/1.1.4/angular.min.js";a.async=!0;d.body.appendChild(a);a.onload=a.onreadystatechange=function(){setTimeout(function(){b.angular&&(b.angular.module("myApp",[]),b.userCtrl=function(a){a.firstName="Evan";a.lastName="Jones"},b.userCtrl.$inject=["$scope"],b.angular.bootstrap(d,["myApp"]))},0)}}};
setTimeout(function(a){var b=k(a),d=n(["menu",{panel:""},["span",{"bp-indicator":""}],["button",{command:"bold"}],["button",{command:"italic"}],["button",{command:"insertunorderedlist"}],["button",{widget:"menu"}],["button",{widget:"user"}],["button",{preview:"angular"}]],b);(a||document.body||document.documentElement).appendChild(d);var c;q(b,"focusin",function(){c=c?l(b.activeElement,"attr","contenteditable"):b.activeElement});d.onclick=function(a){if(a=l(a.target,"tag","button"))if(a.hasAttribute("command"))b.execCommand(a.getAttribute("command")),
c&&c.focus();else if(a.hasAttribute("widget")){var a=(0,v[a.getAttribute("widget")])(u(b),b),d=t(b);d&&(s?(d.deleteContents(),d.insertNode(a)):d.pasteHTML(a.outerHTML))}else if(c)w[a.getAttribute("preview")](c)};b.cbInited||(b.cbInited=!0,r(b,function(){d.setAttribute("panel","expanded")}))},0);
})()